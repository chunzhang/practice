<div class="content__QRGW"><div><h2>Solution</h2>
<hr>
<h4 id="overview">Overview</h4>
<p>We are asked to build a house with the shortest total travel distance to all other houses. To do so, we must be able to find the shortest distance between two cells (one empty land and a house). This process will then be repeated for every pair of empty land and house.
As such, an intuitive first step is to record the location of all houses (1-valued cells) and empty land (0-valued cells) in separate vectors.</p>
<p>Then, for each empty land, traverse all houses, and add the Manhattan Distance:<br>
<code>distance = |x1 - x2| + |y1 - y2|</code>, where <code>(x1, y1)</code> are the coordinates of empty land and <code>(x2, y2)</code> are the coordinates of a house.</p>
<p>But the problem here is that we have some blocked cells.
For example, in the below configuration the formula does not give the correct distance between P1 and P2. This is because there are <strong>obstacles between the two points</strong>.</p>
<p><img src="./Slide1.PNG" alt="blocked paths"></p>
<br>
<p>Since obstacles preclude us from using the formula, we will instead perform a level-wise Breadth-First Search (BFS) for each cell, where each level is 1 distance further away from the starting cell (traversing 4-directionally). As we expand our Breadth-First Search, we will not visit any cell that is blocked or any cell that has already been visited.</p>
<br>
<p><em>Why did we choose to use BFS?</em></p>
<blockquote>
<p>Our graph is not weighted. We can consider each edge to have the same weight of 1.
Since the graph is unweighted, BFS can be used to find the shortest path between a starting cell and any other reachable cell.</p>
</blockquote>
<blockquote>
<p>The actual distance calculation measures grid distance in terms of only horizontal and vertical movements. Since we can only move up, down, left, and right, we can apply BFS to calculate the actual distance.  At each iteration in the BFS, we will only consider expanding our search in the horizontal or vertical direction.</p>
</blockquote>
<br>
<hr>
<h4 id="approach-1-bfs-from-empty-land-to-all-houses">Approach 1: BFS from Empty Land to All Houses</h4>
<p><strong>Intuition</strong></p>
<p>Our goal is to find the empty land cell with the shortest total distance to all houses, so we must first find the shortest total distance to all houses from each empty land cell.
As previously mentioned, this can be accomplished using BFS. For each empty cell (cell value equals 0) in the grid, start a BFS and sum all the distances to houses (cell value equals 1) from this cell. We will also keep track of the number of houses we have reached from this source cell (empty cell).
If we cannot reach all the houses from the current empty cell, then it is not a valid empty cell. Furthermore, we can be certain that any cell visited during this BFS also cannot reach all of the houses. So we will mark all cells visited during this BFS as obstacles to ensure that we do not start another BFS from this region.</p>
<p><strong>Algorithm</strong></p>
<ol>
<li>For each empty cell (<code>grid[i][j]</code> equals 0), start a BFS:
<ul>
<li>In the BFS, traverse all 4-directionally adjacent cells that are not blocked or visited and keep track of the distance from the start cell. Each iteration adds 1 to the distance.</li>
<li>Every time we reach a house, increment houses reached counter <code>housesReached</code> by 1, and increase the total distance <code>distanceSum</code> by the current distance (i.e., the distance from the start cell to the house).</li>
<li>If <code>housesReached</code> equals <code>totalHouses</code>, then return the total distance.</li>
<li>Otherwise, the starting cell (and every cell visited during this BFS) cannot reach all of the houses.  So set every visited empty land cell equal to 2 so that we do not start a new BFS from that cell and return <code>INT_MAX</code>.</li>
</ul>
</li>
<li>Each time a total distance is returned from a BFS call, update the minimum distance (<code>minDistance</code>).</li>
<li>If it is possible to reach all houses from any empty land cell, then return the minimum distance found. Otherwise, return <code>-1</code>.</li>
</ol>
<div><div><div class="dia-container__jsK9" style="width: 909.969px; height: 512px;"><div class="diaporama__1pV2"><img alt="Current" class="dia-img__3g12" src="blob:https://leetcode.com/a66ad114-cac7-4bf5-9468-73ea69237dd0"></div><div class="initial-play-wrapper__2HUL"><div class="initial-play__2m2N play-container__2y5J"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg></div></div><div class="control-panel__1ogu"><div class="controls__3i3n"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 toggle-play__3nt0 control-group__3APN"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div><div class="frame-counter__mLmP">1 / 30</div></div></div></div></div>
<br>
<p><strong>Implementation</strong></p>
<iframe src="https://leetcode.com/playground/XeFbciGf/shared" frameborder="0" width="100%" height="500" name="XeFbciGf"></iframe>
<p><strong>Complexity Analysis</strong></p>
<p>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> be the number of rows and columns in <code>grid</code> respectively.</p>
<ul>
<li>
<p>Time Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>For each empty land, we will traverse to all other houses.
This will require <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo></mrow><annotation encoding="application/x-tex">O(</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span></span></span></span>number of zeros <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">⋅</span></span></span></span> number of ones<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span> time and the number of zeros and ones in the matrix is of order <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>⋅</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N \cdot M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>.
Consider that when half of the values in grid are 0 and half of the values are 1, the total elements in grid would be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(M \cdot N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> so their counts are <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> respectively, thus giving time complexity <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>⋅</mo><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2 \cdot (M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>, that results in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
</li>
</ul>
<blockquote>
<p>In JavaScript implementation, for simplicity, we have used an array for the queue.
Since popping elements from the front of an array is an O(n) operation, which is undesirable,
instead of popping from the front of the <code>queue</code>, we will iterate over the <code>queue</code> and record cells to be explored in the next level in <code>next_queue</code>.
Once the current <code>queue</code> has been traversed, we simply set <code>queue</code> equal to the <code>next_queue</code>.</p>
</blockquote>
<ul>
<li>
<p>Space Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></p>
<p>We use an extra matrix to track the visited cells, and the queue will store each matrix element at most once during each BFS call.
Hence, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span> space is required.</p>
</li>
</ul>
<br>
<hr>
<h4 id="approach-2-bfs-from-houses-to-empty-land">Approach 2: BFS from Houses to Empty Land</h4>
<p><strong>Intuition</strong></p>
<p>In the previous approach, to get the minimum distance we started a BFS from each empty land (cell value equal to 0) to all the houses (cell value equal to 1), but another way to look at the problem is starting from a house and finding all reachable empty lands.</p>
<p>If we can reach a house from an empty land, then we can also traverse the other way (i.e., reach empty land from a house).</p>
<p>When there are fewer houses than empty lands, then this approach will require less time than the previous approach and vice versa. While, on average, this approach is not an improvement on the previous approach, it will serve as a mental stepping stone to better understand the third approach.</p>
<p>Previously, we were calculating the total minimum distance sum of one empty cell in one BFS traversal, hence we were only returning the distance sum from the BFS function for each cell.
But if we start BFS from a house instead of an empty cell, we will be generating partial distance (i.e., distance from only one house to the current cell and not the sum distance from all the houses to this empty cell), hence we need some extra space to store the sum of the partial distances from each house cell.</p>
<p>We will need to store 2 values at each cell position of empty cells: total distance sum from all houses to this empty land and number of houses that can reach this empty land.</p>
<p><strong>Algorithm</strong></p>
<ol>
<li>For each house cell (<code>grid[i][j]</code> equals 1), start a BFS:
<ul>
<li>For each empty cell we reach, increase the cell's sum of distances by the steps taken to reach the cell.</li>
<li>For each empty cell we reach, also increment the cell's house counter by 1.</li>
</ul>
</li>
<li>After traversing all houses, get the minimum distance from all empty cells which have <code>housesReached</code> equal to <code>totalHouses</code>.</li>
<li>If it is possible for all houses to reach a specific empty land cell, then return the minimum distance found. Otherwise, return <code>-1</code>.</li>
</ol>
<div><div><div class="dia-container__jsK9" style="width: 909.969px; height: 512px;"><div class="diaporama__1pV2"><img alt="Current" class="dia-img__3g12" src="blob:https://leetcode.com/39002812-b3c6-4548-a689-888bffe41651"></div><div class="initial-play-wrapper__2HUL"><div class="initial-play__2m2N play-container__2y5J"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg></div></div><div class="control-panel__1ogu"><div class="controls__3i3n"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 toggle-play__3nt0 control-group__3APN"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div><div class="frame-counter__mLmP">1 / 30</div></div></div></div></div>
<br>
<p><strong>Implementation</strong></p>
<iframe src="https://leetcode.com/playground/FECHEJ2e/shared" frameborder="0" width="100%" height="500" name="FECHEJ2e"></iframe>
<p><strong>Complexity Analysis</strong></p>
<p>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> be the number of rows and columns in <code>grid</code> respectively.</p>
<ul>
<li>
<p>Time Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>For each house, we will traverse across all reachable land.
This will require <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo></mrow><annotation encoding="application/x-tex">O(</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span></span></span></span>number of zeros <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">⋅</span></span></span></span> number of ones<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span> time and the number of zeros and ones in the matrix is of order <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>⋅</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N \cdot M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>.
Consider that when half of the values in grid are 0 and half of the values are 1, total elements in grid will be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(M \cdot N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> so their counts are <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> respectively, thus giving time complexity <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>⋅</mo><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2 \cdot (M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>, which results in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
</li>
</ul>
<blockquote>
<p>In JavaScript implementation, for simplicity, we have used an array for the queue.
However, popping elements from the front of an array is an O(n) operation, which is undesirable.
So, instead of popping from the front of the <code>queue</code>, we will iterate over the <code>queue</code> and record cells to be explored in the next level in <code>next_queue</code>.
Once the current <code>queue</code> has been traversed, we simply set <code>queue</code> equal to the <code>next_queue</code>.</p>
</blockquote>
<ul>
<li>
<p>Space Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></p>
<p>We use an extra matrix to track the visited cells and another one to store distance sum along with the house counter for each empty cell, and the queue will store each matrix element at most once during each BFS call.
Hence, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span> space is required.</p>
</li>
</ul>
<br>
<hr>
<h4 id="approach-3-bfs-from-houses-to-empty-land-optimized">Approach 3: BFS from Houses to Empty Land (Optimized)</h4>
<p><strong>Intuition</strong></p>
<p>Instead of making a new matrix each time to track the visited cells, we can use the input grid matrix for this purpose.
During the first BFS we can change the visited empty land values from <code>0</code> to <code>-1</code>. Then during the next BFS we will only visit empty lands with a value of <code>-1</code>s (meaning they can reach the first house), then change <code>-1</code> to <code>-2</code> and then perform the next BFS only on <code>-2</code>s, and so on...</p>
<p>This approach allows us to avoid visiting any cell that cannot reach all houses.</p>
<p><em>Can we also use this decrement in empty land value to denote that the cell has been visited?</em></p>
<blockquote>
<p>Imagine we are currently at cell <code>(2, 3)</code> with value <code>-1</code> and we change its value to <code>-2</code>.<br>
In the queue the next element is <code>(2, 4)</code>, its value is also <code>-1</code> and we change its value to <code>-2</code>. While exploring paths from <code>(2, 4)</code>, we see that the cell <code>(2, 3)</code> is adjacent, and has the value <code>-2</code>. However, currently, we are checking for <code>-1</code> valued cells only. Hence, <code>(2, 3)</code> will not be inserted again in the queue, so this decrease in value can be used as a visited cell check because when a cell has been visited, then its value will be 1 less and it will not satisfy the condition to be inserted in the queue.</p>
</blockquote>
<p>If there was an empty land cell that was not reachable in the previous iteration, then its value has not been decreased, hence we will not insert that cell in the queue when we start a BFS from another house cell.<br>
Therefore, this approach prunes many iterations and saves some time since we are not creating a new matrix to track visited cells for each BFS call.</p>
<div><div><div class="dia-container__jsK9" style="width: 909.969px; height: 512px;"><div class="diaporama__1pV2"><img alt="Current" class="dia-img__3g12" src="blob:https://leetcode.com/c069cef1-6414-43b7-8c67-530bf6b1c040"></div><div class="initial-play-wrapper__2HUL"><div class="initial-play__2m2N play-container__2y5J"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg></div></div><div class="control-panel__1ogu"><div class="controls__3i3n"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 toggle-play__3nt0 control-group__3APN"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div><div class="frame-counter__mLmP">1 / 3</div></div></div></div></div>
<br>
<p><strong>Algorithm</strong></p>
<ol>
<li>For each <code>grid[i][j]</code> that is equal to 1, start a BFS. During the BFS:
<ul>
<li>All 4-directionally adjacent grid cells with values equal to <code>emptyLandValue</code> are valid.</li>
<li>Visit them one by one and store the distances of these cells from the source in a <code>total</code> matrix.</li>
<li>Decrease the value of visited cells by 1.</li>
</ul>
</li>
<li>After each BFS traversal, decrement <code>emptyLandValue</code> by 1.</li>
<li>Before we start a BFS call for a house, we set <code>minDist</code> equal to <code>INT_MAX</code>.</li>
<li>Then we will traverse all of the empty land cells with values equal to <code>emptyLandValue</code></li>
<li>After the last BFS traversal, if the minimum distance equals <code>INT_MAX</code>, then there has not been any cell that can be reached by all the houses, so return <code>-1</code>.</li>
<li>Otherwise, return the minimum distance <code>minDist</code>.</li>
</ol>
<div><div><div class="dia-container__jsK9" style="width: 909.969px; height: 512px;"><div class="diaporama__1pV2"><img alt="Current" class="dia-img__3g12" src="blob:https://leetcode.com/9f021fdd-67a5-4446-9419-b47d1aae3c80"></div><div class="initial-play-wrapper__2HUL"><div class="initial-play__2m2N play-container__2y5J"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg></div></div><div class="control-panel__1ogu"><div class="controls__3i3n"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 toggle-play__3nt0 control-group__3APN"><defs><path id="play-arrow_svg__a" d="M8 5v14l11-7z"></path><mask id="play-arrow_svg__b"><use fill-rule="evenodd" xlink:href="#play-arrow_svg__a"></use></mask></defs><g fill-rule="evenodd"><use xlink:href="#play-arrow_svg__a"></use><g fill-rule="nonzero" mask="url(#play-arrow_svg__b)"><path d="M0 0h24v24H0z"></path></g></g></svg><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 control-group__3APN"><path fill-rule="evenodd" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div><div class="frame-counter__mLmP">1 / 18</div></div></div></div></div>
<br>
<p><strong>Implementation</strong></p>
<iframe src="https://leetcode.com/playground/kSHkPKbL/shared" frameborder="0" width="100%" height="500" name="kSHkPKbL"></iframe>
<p><strong>Complexity Analysis</strong></p>
<p>Let <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> be the number of rows and columns in <code>grid</code> respectively.</p>
<ul>
<li>
<p>Time Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>For each house, we will traverse across all reachable land.
This will require <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo></mrow><annotation encoding="application/x-tex">O(</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span></span></span></span>number of zeros <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">⋅</span></span></span></span> number of ones<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span> time and the number of zeros and ones in the matrix is of order <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>⋅</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N \cdot M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>.
Consider that when half of the values in grid are 0 and half of the values are 1, total elements in grid would be <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(M \cdot N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> so their counts are <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> respectively, thus giving time complexity <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>⋅</mo><mo>(</mo><mi>M</mi><mo>⋅</mo><mi>N</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(M \cdot N)/2 \cdot (M \cdot N)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>, that results in <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>⋅</mo><msup><mi>M</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N^2 \cdot M^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
</li>
<li>
<p>Space Complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></p>
<p>We use an extra matrix to store distance sums, and the queue will store each matrix element at most once during each BFS call.
Hence, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>⋅</mo><mi>M</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N \cdot M)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span> space is required.</p>
</li>
</ul>
<br>
<hr>
</div><p><a class="report-link__1eJM" href="https://github.com/LeetCode-Feedback/LeetCode-Feedback/issues" target="_blank">Report Article Issue</a></p><div class="root__3XxC"><div class="header___QdN"><div class="comment-count__28iT"><span><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 chat-icon__3usv"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg>Comments: 14</span><div class="css-1p88zy6 ant-divider ant-divider-vertical" role="separator"></div><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2 notification-icon__3ggk css-1h5x3dy"><path fill-rule="evenodd" d="M12 22c-1.1 0-2-.9-2-2h4c0 1.1-.9 2-2 2zm6-6l2 2v1H4v-1l2-2v-5c0-3.08 1.64-5.64 4.5-6.32V4c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.68C16.37 5.36 18 7.93 18 11v5zm-2 1v-6c0-2.48-1.51-4.5-4-4.5S8 8.52 8 11v6h8z"></path></svg></div><div class="sorts__3Wh1"><div class="css-4gtjqr-RadioWrapper e5i1odf1"><label class="css-os8bm0"><input type="checkbox" class="css-o6r3zy-Input e5i1odf0" checked="">Best</label><label class="css-92dq4s"><input type="checkbox" class="css-o6r3zy-Input e5i1odf0">Most Votes</label><label class="css-92dq4s"><input type="checkbox" class="css-o6r3zy-Input e5i1odf0">Newest to Oldest</label><label class="css-92dq4s"><input type="checkbox" class="css-o6r3zy-Input e5i1odf0">Oldest to Newest</label></div></div></div><div class="comments-container__tcjS"><div class="comment__4GKl" data-is-show="true"><div class="editor__2AvG"><div class="container__eXXf input-area__25Vz"><div class="follower-layer__1PQ- text-area__1za6"><span class="cursor-position__2bFn"><div class="follower-container__14eT"><div class="follower-container__25so"></div></div></span></div><div class="style-layer-container__27Gu"><div class="style-layer__1WJr text-area__1za6"></div></div><textarea class="text-area__1za6" placeholder="Type comment here... (Markdown is supported)" rows="1" style="overflow: hidden; overflow-wrap: break-word; height: 50px;"></textarea></div><div class="action-area__2XIi"><div class="left-actions__3wPT"><button class="btn__1z2C btn-sm__2msL btn-info__3EMF button__13tk preview__3Il-" data-no-border="false" data-is-hide="true"><div class="btn-content-container__2HVS"><span class="btn-content__2V4r">Preview</span></div></button></div><button class="btn__3Y3g fancy-btn__2prB primary__lqsj light__3AfA btn__1z2C btn-sm__2msL button__13tk" disabled="" data-no-border="true"><div class="btn-content-container__2HVS"><span class="btn-content__2V4r">Post</span></div></button></div></div></div><div class="comments-list__vX16"><div class="loading-cover__3hdh" data-status="exited"><div class="wrapper__WG8_" data-theme="light" data-label-position="right"><div class="loading__1IE5"><div title="" role="button" aria-label="animation" tabindex="0" style="width: 60px; height: 60px; overflow: hidden; margin: 0px auto; outline: none;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200" preserveAspectRatio="xMidYMid slice" style="width: 100%; height: 100%; transform: translate3d(0px, 0px, 0px);"><defs><clipPath id="animationMask_ME3xzy2Y4T"><rect width="200" height="200" x="0" y="0"></rect></clipPath></defs><g clip-path="url(#animationMask_ME3xzy2Y4T)"><g transform="matrix(1,0,0,1,102,99.25)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path stroke-linecap="round" stroke-linejoin="round" fill-opacity="0" stroke="rgb(153,153,153)" stroke-opacity="1" stroke-width="16" d=" M9.307000160217285,-61.400001525878906 C9.307000160217285,-61.400001525878906 -44.39400100708008,-3.999000072479248 -44.39400100708008,-3.999000072479248 C-53.4900016784668,5.7220001220703125 -52.141998291015625,20.731000900268555 -42.619998931884766,30.05299949645996 C-42.619998931884766,30.05299949645996 -17.81999969482422,54.32899856567383 -17.81999969482422,54.32899856567383"></path></g></g><g transform="matrix(1,0,0,1,103.5,99)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path stroke-linecap="round" stroke-linejoin="round" fill-opacity="0" stroke="rgb(153,153,153)" stroke-opacity="1" stroke-width="16" d=" M-7.584000110626221,12.793999671936035 C-7.584000110626221,12.793999671936035 51.41600036621094,12.793999671936035 51.41600036621094,12.793999671936035"></path></g></g><g transform="matrix(1,0,0,1,102,99)" opacity="1" style="display: block;"><g opacity="1" transform="matrix(1,0,0,1,0,0)"><path stroke-linecap="round" stroke-linejoin="round" fill-opacity="0" stroke="rgb(153,153,153)" stroke-opacity="1" stroke-width="16" d=" M31.819000244140625,40.31999969482422 C31.819000244140625,40.31999969482422 17.923999786376953,54.17100143432617 17.923999786376953,54.17100143432617 C8.187999725341797,63.875999450683594 -7.74399995803833,64.01799774169922 -17.658000946044922,54.486000061035156 C-17.694000244140625,54.45100021362305 -26.014999389648438,46.30699920654297 -42.619998931884766,30.05299949645996 C-52.143001556396484,20.731000900268555 -53.48899841308594,5.7220001220703125 -44.39400100708008,-3.999000072479248 C-44.39400100708008,-3.999000072479248 -22.042999267578125,-27.889999389648438 -22.042999267578125,-27.889999389648438 C-13,-37.555999755859375 4.191999912261963,-38.595001220703125 14.522000312805176,-30.256000518798828 C14.522000312805176,-30.256000518798828 34.821998596191406,-13.868000030517578 34.821998596191406,-13.868000030517578"></path></g></g><g transform="matrix(0.9510565400123596,0.30901700258255005,-0.30901700258255005,0.9510565400123596,107.20625305175781,99.15705871582031)" opacity="1" style="display: none;"><g opacity="1" transform="matrix(1,0,0,1,-3.25600004196167,13.298999786376953)"><path stroke-linecap="round" stroke-linejoin="round" fill-opacity="0" stroke="rgb(153,153,153)" stroke-opacity="1" stroke-width="16" d="M0 0"></path></g></g></g></svg></div></div></div></div><div class="comment__3raU" data-comment-id="1091959" data-indentation-level="0"><div class="root__3bcS"><a href="/shrimpgandalf" target="_blank"><img alt="shrimpgandalf's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/7062751bdcde65541a47a1c33542e276.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/shrimpgandalf" target="_blank" class="link__Lpjq">shrimpgandalf</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>19</span></div><div class="post-info__1K06"><p>Last Edit: September 22, 2021 5:09 AM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Approach 1 and approach 2 TLE with Python</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 52px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>19</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 1 reply</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1056031" data-indentation-level="0"><div class="root__3bcS"><a href="/25000" target="_blank"><img alt="25000's avatar" class="avatar__7D9c" src="https://assets.leetcode.com/users/25000/avatar_1617249972.png"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/25000" target="_blank" class="link__Lpjq">25000</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>51</span></div><div class="post-info__1K06"><p>August 21, 2021 12:25 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="true"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Python code for Approach 3.</p><p>
</p><pre><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shortestDistance</span>(<span class="hljs-params">self, grid: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; int:</span>
        rows = <span class="hljs-built_in">len</span>(grid)
        cols = <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>])
        dirs = [(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>)]
        
        total_sum = [[<span class="hljs-number">0</span>] * cols <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(rows)]
        
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bfs</span>(<span class="hljs-params">row, col, curr_count</span>):</span>
            min_distance = math.inf
            queue = deque()
            queue.append([row, col, <span class="hljs-number">0</span>])
            <span class="hljs-keyword">while</span> queue:
                curr_row, curr_col, curr_step = queue.popleft()
                <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> dirs:
                    next_row = curr_row + d[<span class="hljs-number">0</span>]
                    next_col = curr_col + d[<span class="hljs-number">1</span>]
                    <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= next_row &lt; rows <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= next_col &lt; cols <span class="hljs-keyword">and</span> grid[next_row][next_col] == -curr_count:
                        total_sum[next_row][next_col] += curr_step + <span class="hljs-number">1</span>
                        min_distance = <span class="hljs-built_in">min</span>(min_distance, total_sum[next_row][next_col])
                        grid[next_row][next_col] -= <span class="hljs-number">1</span>
                        queue.append([next_row, next_col, curr_step + <span class="hljs-number">1</span>])
            <span class="hljs-keyword">return</span> min_distance
                
        count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(rows):
            <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cols):
                <span class="hljs-keyword">if</span> grid[row][col] == <span class="hljs-number">1</span>:
                    min_distance = bfs(row, col, count)
                    count += <span class="hljs-number">1</span>
                    <span class="hljs-keyword">if</span> min_distance == math.inf:
                        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
        
        <span class="hljs-keyword">return</span> min_distance
</code></pre><p></p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 261px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>10</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1078103" data-indentation-level="0"><div class="root__3bcS"><a href="/jowangcn" target="_blank"><img alt="jowangcn's avatar" class="avatar__7D9c" src="https://assets.leetcode.com/users/jowangcn/avatar_1593911169.png"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/jowangcn" target="_blank" class="link__Lpjq">jowangcn</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>17</span></div><div class="post-info__1K06"><p>September 9, 2021 11:47 AM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Why does the solution say the Manhatten distance is wrong yet the question says the distance should be Manhatten distance? Did the question change? It's so confusing.<br>
The distance requested in this question IS OR IS NOT the Manhatten???</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 94px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>6</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 5 replies</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1053941" data-indentation-level="0"><div class="root__3bcS"><a href="/xueshengluanfei" target="_blank"><img alt="xueshengluanfei's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/6cdfc05db8d3809f6cf1d501587fae12.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/xueshengluanfei" target="_blank" class="link__Lpjq">xueshengluanfei</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>17</span></div><div class="post-info__1K06"><p>August 19, 2021 1:50 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>why there's no python solutions?</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 52px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>4</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1116198" data-indentation-level="0"><div class="root__3bcS"><a href="/devita" target="_blank"><img alt="devita's avatar" class="avatar__7D9c" src="https://assets.leetcode.com/users/devita/avatar_1544221039.png"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/devita" target="_blank" class="link__Lpjq">devita</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>1</span></div><div class="post-info__1K06"><p>October 14, 2021 7:45 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Why does the question state: "The distance is calculated using Manhattan Distance, where distance(p1, p2) = |p2.x - p1.x| + |p2.y - p1.y|." But in the first section of the solution, that statement is contradicted?</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 73px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>1</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 1 reply</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1080190" data-indentation-level="0"><div class="root__3bcS"><a href="/afeezBPGM" target="_blank"><img alt="afeezBPGM's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/875c87600e5e836e12f09c97faea5c75.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/afeezBPGM" target="_blank" class="link__Lpjq">afeezBPGM</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>5</span></div><div class="post-info__1K06"><p>September 11, 2021 2:47 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>For test case 85, why isn't the response -1?</p><p>
</p><p>You can't reach all of the buildings from the 3 zeros in the corner of this grid. Unless I'm misunderstanding the problem.</p><p>
</p><p>[1,1,1,1,1,0]<br>
[0,0,0,0,0,1]<br>
[0,1,1,0,0,1]<br>
[1,0,0,1,0,1]<br>
[1,0,1,0,0,1]<br>
[1,0,0,0,0,1]<br>
[0,1,1,1,1,0]</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 248px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>0</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 2 replies</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1107824" data-indentation-level="0"><div class="root__3bcS"><a href="/stankud" target="_blank"><img alt="stankud's avatar" class="avatar__7D9c" src="https://assets.leetcode.com/users/stankud/avatar_1575302231.png"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/stankud" target="_blank" class="link__Lpjq">stankud</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>3</span></div><div class="post-info__1K06"><p>Last Edit: October 6, 2021 1:22 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="true"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>My Python Approach 1 kept timing out so here is a golang Approach 1 solution that got accepted:</p><p>
</p><pre><code>
<span class="hljs-keyword">const</span> MaxUint = ^<span class="hljs-keyword">uint</span>(<span class="hljs-number">0</span>) 
<span class="hljs-keyword">const</span> MaxInt = <span class="hljs-keyword">int</span>(MaxUint &gt;&gt; <span class="hljs-number">1</span>) 

<span class="hljs-keyword">var</span> totalHouses <span class="hljs-keyword">int</span>

<span class="hljs-keyword">var</span> dirs = [][]<span class="hljs-keyword">int</span>{
    []<span class="hljs-keyword">int</span>{<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>},
    []<span class="hljs-keyword">int</span>{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>},
    []<span class="hljs-keyword">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">0</span>},
    []<span class="hljs-keyword">int</span>{<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>},
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">min</span><span class="hljs-params">(a <span class="hljs-keyword">int</span>, b <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {
    <span class="hljs-keyword">if</span> a &lt;= b {
        <span class="hljs-keyword">return</span> a
    }
    <span class="hljs-keyword">return</span> b
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">bfs</span><span class="hljs-params">(row <span class="hljs-keyword">int</span>, col <span class="hljs-keyword">int</span>, grid [][]<span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {
    <span class="hljs-keyword">var</span> steps <span class="hljs-keyword">int</span>
    <span class="hljs-keyword">var</span> totalDistance <span class="hljs-keyword">int</span>
    <span class="hljs-keyword">var</span> housesFound <span class="hljs-keyword">int</span>
    
    vis := <span class="hljs-built_in">make</span>([][]<span class="hljs-keyword">bool</span>, <span class="hljs-built_in">len</span>(grid))
    <span class="hljs-keyword">for</span> row := <span class="hljs-keyword">range</span> vis {
        vis[row] = <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">bool</span>, <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>]))
    }
    
    nextQ := [][]<span class="hljs-keyword">int</span>{[]<span class="hljs-keyword">int</span>{row, col}}

    <span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(nextQ) &gt; <span class="hljs-number">0</span> {
        q := nextQ
        nextQ = <span class="hljs-built_in">make</span>([][]<span class="hljs-keyword">int</span>, <span class="hljs-number">0</span>)
        
        <span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(q) &gt; <span class="hljs-number">0</span> {
            r := q[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]
            c := q[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
            q = q[<span class="hljs-number">1</span>:]
            
            <span class="hljs-keyword">if</span> grid[r][c] == <span class="hljs-number">1</span> {
                housesFound++
                totalDistance += steps
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">for</span> _, dir := <span class="hljs-keyword">range</span> dirs {
                nextR := r + dir[<span class="hljs-number">0</span>]
                nextC := c + dir[<span class="hljs-number">1</span>]

                <span class="hljs-keyword">if</span> nextR &gt;= <span class="hljs-number">0</span> &amp;&amp; nextR &lt; <span class="hljs-built_in">len</span>(grid) &amp;&amp; nextC &gt;= <span class="hljs-number">0</span> &amp;&amp; nextC &lt; <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>]) {
                    <span class="hljs-keyword">if</span> grid[nextR][nextC] != <span class="hljs-number">2</span> &amp;&amp; !vis[nextR][nextC] {
                        nextQ = <span class="hljs-built_in">append</span>(nextQ, []<span class="hljs-keyword">int</span>{nextR, nextC})
                        vis[nextR][nextC] = <span class="hljs-literal">true</span>
                    }
                }
            }
        }
        steps++
    }
    
    <span class="hljs-keyword">if</span> totalHouses != housesFound {
        <span class="hljs-keyword">for</span> r := <span class="hljs-keyword">range</span> vis {
            <span class="hljs-keyword">for</span> c, cell := <span class="hljs-keyword">range</span> vis[r] {
                <span class="hljs-keyword">if</span> cell &amp;&amp; grid[r][c] == <span class="hljs-number">0</span> {
                    grid[r][c] = <span class="hljs-number">2</span>
                }
            }
        }
        <span class="hljs-keyword">return</span> MaxInt
    }
    
    <span class="hljs-keyword">return</span> totalDistance
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">shortestDistance</span><span class="hljs-params">(grid [][]<span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {
    <span class="hljs-keyword">var</span> minD = MaxInt
    totalHouses = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> _, r := <span class="hljs-keyword">range</span> grid {
        <span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> r {
            <span class="hljs-keyword">if</span> c == <span class="hljs-number">1</span> {
                totalHouses++
            }
        }
    }

    <span class="hljs-keyword">for</span> r, _ := <span class="hljs-keyword">range</span> grid {
        <span class="hljs-keyword">for</span> c, cell := <span class="hljs-keyword">range</span> grid[r] {
            <span class="hljs-keyword">if</span> cell == <span class="hljs-number">0</span> {
                minD = min(minD, bfs(r, c, grid))
            }
        }
    }
    
    <span class="hljs-keyword">if</span> minD == MaxInt {
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
    }

    <span class="hljs-keyword">return</span> minD
}
</code></pre><p></p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 261px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>0</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1104186" data-indentation-level="0"><div class="root__3bcS"><a href="/amritanshu3" target="_blank"><img alt="amritanshu3's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/cda6502c94302ff820fd805f84cf4ffe.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/amritanshu3" target="_blank" class="link__Lpjq">amritanshu3</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>146</span></div><div class="post-info__1K06"><p>October 3, 2021 7:37 AM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Did not understand this:</p><p>
</p><p>If we did not reach all houses, then any cell visited also cannot reach all houses.<br>
Set all cells visted to 2 so we do not check them again and return INT_MAX.</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 108px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>0</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 1 reply</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1094652" data-indentation-level="0"><div class="root__3bcS"><a href="/Dadagda" target="_blank"><img alt="Dadagda's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/585fb98c49579b78c22ddbf90d30088c.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/Dadagda" target="_blank" class="link__Lpjq">Dadagda</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>14</span></div><div class="post-info__1K06"><p>September 24, 2021 3:16 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>I spent quite some time trying to figure out a more optimized solution faster than O(m^2n^2) because quadratic time complexity is generally considered "terrible".  These solutions feel more like the brute-force ones when you know BFS computes shortest paths.</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 94px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>0</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div><div class="comment__3raU" data-comment-id="1092553" data-indentation-level="0"><div class="root__3bcS"><a href="/ANIMESH_BOTE" target="_blank"><img alt="ANIMESH_BOTE's avatar" class="avatar__7D9c" src="https://www.gravatar.com/avatar/2a719392b995f3823faaf24fc6d55802.png?s=200"></a><div><div><div class="user-info__2b-x"><span class="name__2jm2"><a href="/ANIMESH_BOTE" target="_blank" class="link__Lpjq">ANIMESH_BOTE</a></span><span class="reputation___jPr"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>3</span></div><div class="post-info__1K06"><p>September 22, 2021 2:19 PM</p></div></div></div></div><div class="content__2Xc9" data-is-show-read-more="true"><div class="markdown-content-area__33i4" style="max-height: 230px;" data-is-beyond-limit-size="false"><div class="read-more__3UuG">Read More</div><div class="discuss-markdown-container"><p>Why DFS approach gives TLE when BFS is working fine ? Can anybody please explain ?</p></div><div class="erd_scroll_detection_container erd_scroll_detection_container_animation_active" style="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0px; padding: 0px;"><div dir="ltr" class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;"><div class="erd_scroll_detection_container" style="position: absolute; flex: 0 0 auto; overflow: hidden; z-index: -1; visibility: hidden; inset: -11px -10px -10px -11px;"><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; left: 0px; top: 0px; width: 861px; height: 52px;"></div></div><div style="position: absolute; flex: 0 0 auto; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;"><div style="position: absolute; width: 200%; height: 200%;"></div></div></div></div></div></div><div class="actions__32FD"><div class="container__3-ij"><div title="Upvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 14l5-5 5 5z"></path></svg></div><div title="Vote count" class="count__I8pP count__7rrc"><span>0</span></div><div title="Downvote" class="vote__3Zp9 vote__1Qs-" data-is-voted="false"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M7 10l5 5 5-5z"></path></svg></div></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M8.995 22a.955.955 0 0 1-.704-.282.955.955 0 0 1-.282-.704V18.01H3.972c-.564 0-1.033-.195-1.409-.586A1.99 1.99 0 0 1 2 15.99V3.97c0-.563.188-1.032.563-1.408C2.94 2.188 3.408 2 3.972 2h16.056c.564 0 1.033.188 1.409.563.375.376.563.845.563 1.409V15.99a1.99 1.99 0 0 1-.563 1.432c-.376.39-.845.586-1.409.586h-6.103l-3.709 3.71c-.22.187-.454.281-.704.281h-.517zm.986-6.01v3.1l3.099-3.1h6.948V3.973H3.972V15.99h6.01zm-3.99-9.013h12.018v2.018H5.991V6.977zm0 4.037h9.014v1.972H5.99v-1.972z"></path></svg><span>Show 1 reply</span></div><div class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M21.947 18.144a1 1 0 0 1-1.496 1.18c-3.255-2.193-5.734-3.275-8.556-3.477v4.134a1 1 0 0 1-1.688.726L2.312 13.22a1 1 0 0 1 0-1.451l7.894-7.494A1 1 0 0 1 11.895 5v3.953c3.62.481 7.937 3.52 10.052 9.191zm-6.992-5.851c-1.624-.938-3.31-1.407-5.06-1.407V7.287l-5.422 5.207 5.422 5.203v-3.885c2.696 0 5.644.763 8.843 2.29-1.002-1.52-2.346-2.979-3.783-3.81z"></path></svg><span>Reply</span></div><div class="action__1C-I" data-show-on-hover="true"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M17 5V2l5 5h-9a2 2 0 0 0-2 2v8H9V9a4 4 0 0 1 4-4h4zm3 14V9h2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3v2H4v14h16z"></path></svg><span>Share</span></div><div data-show-on-hover="true" class="action__1C-I"><svg viewBox="0 0 24 24" width="1em" height="1em" class="icon__1Md2"><path fill-rule="evenodd" d="M1 22L12 2l11 20H1zm18.617-2L12 6.15 4.383 20h15.234zM13 19h-2v-2h2v2zm0-3h-2v-5h2v5z"></path></svg><span>Report</span></div></div></div></div></div></div><div class="pagination-container__px42"><div class="root__1bde"><ul class="ant-pagination pagination__1L7A" unselectable="unselectable"><li title="Previous Page" class="ant-pagination-disabled ant-pagination-prev" aria-disabled="true"><a class="ant-pagination-item-link"></a></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-active" tabindex="0"><a>1</a></li><li title="2" class="ant-pagination-item ant-pagination-item-2" tabindex="0"><a>2</a></li><li title="Next Page" tabindex="0" class=" ant-pagination-next" aria-disabled="false"><a class="ant-pagination-item-link"></a></li></ul></div></div></div></div>
